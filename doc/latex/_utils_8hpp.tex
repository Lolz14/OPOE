\hypertarget{_utils_8hpp}{}\doxysection{include/utils/\+Utils.hpp File Reference}
\label{_utils_8hpp}\index{include/utils/Utils.hpp@{include/utils/Utils.hpp}}


Utility functions and templates for polynomial operations, random sampling, and vector/matrix computations.  


{\ttfamily \#include $<$cmath$>$}\newline
{\ttfamily \#include $<$random$>$}\newline
{\ttfamily \#include $<$tuple$>$}\newline
{\ttfamily \#include $<$unordered\+\_\+map$>$}\newline
{\ttfamily \#include $<$vector$>$}\newline
{\ttfamily \#include $<$utility$>$}\newline
{\ttfamily \#include $<$type\+\_\+traits$>$}\newline
{\ttfamily \#include \char`\"{}../traits/\+OPOE\+\_\+traits.\+hpp\char`\"{}}\newline
{\ttfamily \#include $<$unsupported/\+Eigen/\+Kronecker\+Product$>$}\newline
Include dependency graph for Utils.\+hpp\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_utils_8hpp__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_utils_8hpp__dep__incl}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{struct_utils_1_1_pow}{Utils\+::\+Pow$<$ RDegree, R, Exp $>$}}
\begin{DoxyCompactList}\small\item\em Type alias for a map that associates a long key (m, n) to an integer index. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{struct_utils_1_1_pow_3_01_r_degree_00_01_r_00_011u_01_4}{Utils\+::\+Pow$<$ RDegree, R, 1u $>$}}
\begin{DoxyCompactList}\small\item\em Specialization of \mbox{\hyperlink{struct_utils_1_1_pow}{Pow}} for exponent equal to 1. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{struct_utils_1_1_pow_3_01_r_degree_00_01_r_00_010u_01_4}{Utils\+::\+Pow$<$ RDegree, R, 0u $>$}}
\begin{DoxyCompactList}\small\item\em Specialization of \mbox{\hyperlink{struct_utils_1_1_pow}{Pow}} for exponent equal to 0. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Namespaces}
\begin{DoxyCompactItemize}
\item 
 \mbox{\hyperlink{namespace_utils}{Utils}}
\end{DoxyCompactItemize}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
using \mbox{\hyperlink{namespace_utils_a0d759d7eeddccb9b56b35bfb00ecf1e1}{Utils\+::\+Index\+Map}} = std\+::unordered\+\_\+map$<$ long, int $>$
\begin{DoxyCompactList}\small\item\em Provides utilities for polynomial operations, including compile-\/time exponentiation. \end{DoxyCompactList}\item 
using \mbox{\hyperlink{namespace_utils_ad323ceec192f2a3c721ba375e00b3545}{Utils\+::\+Storing\+Vector}} = traits\+::\+Data\+Type\+::\+Storing\+Vector
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$typename R  = traits\+::\+Data\+Type\+::\+Polynomial\+Field, traits\+::\+Pochammer\+Type Type$>$ }\\\mbox{\hyperlink{namespace_utils_a800eeaef44bff3535972432a44bb7f6a}{Utils\+::requires}} (Type==traits\+::\+Pochammer\+Type\+::\+Falling$\vert$$\vert$Type==traits\+::\+Pochammer\+Type\+::\+Rising) inline R Pochhammer(R m
\begin{DoxyCompactList}\small\item\em Computes the Pochhammer symbol (falling or rising factorial). \end{DoxyCompactList}\item 
std\+::vector$<$ std\+::pair$<$ int, int $>$ $>$ \mbox{\hyperlink{namespace_utils_abbb19e929ed3b70f101df1131c18782e}{Utils\+::enumerate\+\_\+basis}} (int N)
\begin{DoxyCompactList}\small\item\em Enumerates all pairs (m, n) such that m + n $<$= N. \end{DoxyCompactList}\item 
{\footnotesize template$<$typename T  = traits\+::\+Data\+Type\+::\+Polynomial\+Field$>$ }\\Storing\+Matrix \mbox{\hyperlink{namespace_utils_a9832e0c595711b3711f650e549313e4b}{Utils\+::build\+\_\+\+Dmono}} (int N)
\begin{DoxyCompactList}\small\item\em Builds the representation matrix of the first monomial derivative of dimension N. \end{DoxyCompactList}\item 
{\footnotesize template$<$typename T  = traits\+::\+Data\+Type\+::\+Polynomial\+Field$>$ }\\Storing\+Matrix \mbox{\hyperlink{namespace_utils_a49efbbfc4338a87a2b9a6ad8f31eb9ee}{Utils\+::build\+\_\+\+D2mono}} (int N)
\begin{DoxyCompactList}\small\item\em Builds the representation matrix of the second monomial derivative of dimension N. \end{DoxyCompactList}\item 
{\footnotesize template$<$typename T  = traits\+::\+Data\+Type\+::\+Polynomial\+Field$>$ }\\Storing\+Matrix \mbox{\hyperlink{namespace_utils_abda82c4c9a0c08911e471ba53cadf1f3}{Utils\+::poly\+\_\+to\+\_\+M}} (const \mbox{\hyperlink{main_8cpp_a2bed6660252a8734620907db5c512d41}{Storing\+Vector}} \&coeffs, int Nv)
\begin{DoxyCompactList}\small\item\em Converts a polynomial vector to a diagonal matrix representation. \end{DoxyCompactList}\item 
{\footnotesize template$<$typename T  = traits\+::\+Data\+Type\+::\+Polynomial\+Field$>$ }\\Storing\+Matrix \mbox{\hyperlink{namespace_utils_ace0f288b33173f9c6103060ac3bdd41c}{Utils\+::build\+\_\+\+G\+\_\+full}} (const Storing\+Matrix \&H, const \mbox{\hyperlink{main_8cpp_a2bed6660252a8734620907db5c512d41}{Storing\+Vector}} \&bx, const \mbox{\hyperlink{main_8cpp_a2bed6660252a8734620907db5c512d41}{Storing\+Vector}} \&axx, const \mbox{\hyperlink{main_8cpp_a2bed6660252a8734620907db5c512d41}{Storing\+Vector}} \&bv, const \mbox{\hyperlink{main_8cpp_a2bed6660252a8734620907db5c512d41}{Storing\+Vector}} \&axv, const \mbox{\hyperlink{main_8cpp_a2bed6660252a8734620907db5c512d41}{Storing\+Vector}} \&avv, int Nv)
\begin{DoxyCompactList}\small\item\em Builds the G representation matrix of the generator of a stochastic volatility model. \end{DoxyCompactList}\item 
Storing\+Matrix \mbox{\hyperlink{namespace_utils_a43d431ad5983e913b22b1e92afe2b2c9}{Utils\+::project\+\_\+to\+\_\+triangular}} (const Storing\+Matrix \&G\+\_\+full, const std\+::vector$<$ std\+::pair$<$ int, int $>$$>$ \&E\+\_\+tri, int Nx)
\begin{DoxyCompactList}\small\item\em Projects the full G matrix to a triangular form based on the provided edges. \end{DoxyCompactList}\item 
{\footnotesize template$<$typename Scalar  = traits\+::\+Data\+Type\+::\+Polynomial\+Field$>$ }\\\mbox{\hyperlink{main_8cpp_a2bed6660252a8734620907db5c512d41}{Storing\+Vector}} \mbox{\hyperlink{namespace_utils_a97f80014b89420791d6a69b651adaa7c}{Utils\+::build\+\_\+h\+\_\+vals}} (const Storing\+Matrix \&H, const std\+::vector$<$ std\+::pair$<$ int, int $>$$>$ \&E, unsigned int N, Scalar X0, Scalar V0)
\begin{DoxyCompactList}\small\item\em Expands the Orthonormal Basis to include the volatility dimension. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
R \mbox{\hyperlink{namespace_utils_a739d0ae64bc033834af2c3be161d276a}{Utils\+::n}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Utility functions and templates for polynomial operations, random sampling, and vector/matrix computations. 

This header provides a collection of utility templates and functions, including\+:
\begin{DoxyItemize}
\item Compile-\/time exponentiation of polynomials via the {\ttfamily Pow} struct template, with specializations for exponents 0 and 1.
\item Computation of the Pochhammer symbol (falling and rising factorial) for generic numeric types.
\item A flexible {\ttfamily sampler} function for generating Eigen vectors or matrices filled with random samples from a specified distribution.
\item An {\ttfamily argmin} function to find the column of a matrix closest (in L2 norm) to a target vector, returning the index, distance, and all distances.
\item A {\ttfamily calculate\+\_\+overall\+\_\+distortion} function to compute the average distortion (root mean squared error) between randomly generated samples and their closest centroids.
\end{DoxyItemize}

The utilities are designed to work with Eigen types and generic numeric types, and leverage modern C++ features such as variadic templates, {\ttfamily if constexpr}, and concepts.

Dependencies\+:
\begin{DoxyItemize}
\item Eigen for matrix and vector operations.
\item \mbox{\hyperlink{_o_p_o_e__traits_8hpp}{OPOE\+\_\+traits.\+hpp}} for type definitions and concepts. 
\end{DoxyItemize}